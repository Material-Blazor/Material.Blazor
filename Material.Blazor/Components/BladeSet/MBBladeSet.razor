@namespace Material.Blazor


<CascadingValue Value="@this" IsFixed="true">
    <mb-bladeset>
        <mb-bladeset-main-content @attributes="@MainContentAttributes">
            @PageContent
        </mb-bladeset-main-content>

        @if (Blades.Any())
        {
            <mb-blades @attributes="@BladesAttributes">
                @foreach (var bladeInfo in Blades.Values.OrderBy(b => b.Created))
                {
                    <mb-blade @attributes="@bladeInfo.Attributes"
                              @key="@bladeInfo"
                              @ref="@bladeInfo.BladeElementReference">
                        <mb-blade-content @ref="@bladeInfo.BladeContentElementReference">
                            @bladeInfo.BladeContent
                        </mb-blade-content>
                    </mb-blade>
                }
            </mb-blades>
        }
    </mb-bladeset>
</CascadingValue>