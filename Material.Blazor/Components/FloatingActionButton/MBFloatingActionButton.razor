@namespace Material.Blazor
@inherits ComponentFoundation

@code {
    private static readonly RenderFragment<RenderFragment> TouchWrapper = (content) =>@<div class="mdc-touch-target-wrapper">@content</div>;
private static readonly RenderFragment<RenderFragment> NoTouchWrapper = (content) => content;
}

@{ var optionalTouchWrapper = AppliedTouchTarget ? TouchWrapper : NoTouchWrapper; }

@if (Type == MBFloatingActionButtonType.Mini)
{
    @optionalTouchWrapper(@<text>
        <button @ref="@ElementReference"
                class="mdc-fab @ActiveConditionalClasses @(@class)"
                style="@style"
                id="@id"
                @attributes="@AttributesToSplat()">

            <div class="mdc-fab__ripple"></div>
            <MBIcon class="mdc-fab__icon"
                    IconFoundry="@IconFoundry"
                    IconName="@Icon" />
            <div class="mdc-fab__touch"></div>
        </button>
        </text>);
}
else
{
    <button @ref="@ElementReference"
            class="mdc-fab @ActiveConditionalClasses @(@class)"
            style="@style"
            id="@id"
            @attributes="@AttributesToSplat()">

        <div class="mdc-fab__ripple"></div>

        @if (Type == MBFloatingActionButtonType.Extended && IconTrailsLabel)
        {
            <span class="mdc-fab__label">@Label</span>
        }

        <MBIcon class="mdc-fab__icon" IconName="@Icon" IconFoundry="@IconFoundry" />

        @if (Type == MBFloatingActionButtonType.Extended && !IconTrailsLabel)
        {
            <span class="mdc-fab__label">@Label</span>
        }
    </button>
}