@page "/yearpad"

@inject IMBToastService ToastService

@using Nager.Date



<DemonstrationPage ComponentName="YearPicker"
                   DemoComponent="@this"
                   MinDensity="MBDensity.Minus4"
                   Title="Date Picker Broken YearPad Demonstration"
                   RequiresDisableSelection="true">
    <Description>
        <p>
            The Date Picker is a Plus component.
        </p>
    </Description>

    <PageContent>
        <div class="mdc-layout-grid__cell--span-12">
            <MBCard AutoStyled="true">
                <Primary>
                    <h2 class="mb-card__title mdc-typography mdc-typography--headline6">
                        Pick the down arrow below and then scroll down in the year picker panel by clicking below the thumb. Try to scroll all the way to 2100.
                    </h2>

                    <p>
                        <MBYearPad @bind-Value="@Default"
                                      DateFormat="ddd MMM dd, yyyy"
                                      Label="Default"
                                      MaxDate="@Max"
                                      MenuSurfacePositioning="@MBMenuSurfacePositioning.Fixed"
                                      MinDate="@Min"
                                      SelectInputStyle="MBSelectInputStyle.Outlined" />
                    </p>
                </Primary>
            </MBCard>
        </div>


        <div class="mdc-layout-grid__cell--span-12">
            <MBCard AutoStyled="true">
                <Primary>
                    <h2 class="mb-card__title mdc-typography mdc-typography--headline6">
                        Pick the down arrow below and then scroll down in the year picker panel by clicking below the thumb. Try to scroll all the way to 2100.
                    </h2>

                    <p>
                        <InternalYearPadPanel   @bind-Value="@Default"
                                                DateFormat="@AppliedDateFormat"
                                                DateIsSelectable="@DateIsSelectable"
                                                DateSelectionCriteria="@DateSelectionCriteria"
                                                MaxDate="@CascadingDefaults.AppliedDatePickerDefaultMaxDate(MaxDate)"
                                                MinDate="@CascadingDefaults.AppliedDatePickerDefaultMinDate(MinDate)"
                                                Parent="@this"
                                                SuppressDefaultDate="@SuppressDefaultDate"
                                                @ref="Panel" / />
                    </p>
                </Primary>
            </MBCard>
        </div>
    </PageContent>
</DemonstrationPage>



@code {
    private DateTime _filled = DateTime.Today.AddMonths(1);
    private DateTime Filled
    {
        get => _filled;
        set
        {
            _filled = value;

            ToastService.ShowToast(heading: "Filled Date Picker", message: $"Value: {_filled.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }


    private DateTime _outlined = DateTime.Today.AddMonths(1);
    private DateTime Outlined
    {
        get => _outlined;
        set
        {
            _outlined = value;

            ToastService.ShowToast(heading: "Outlined Date Picker", message: $"Value: {_outlined.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }


    private DateTime _monWedFri = new DateTime(2021, 1, 8);
    private DateTime MonWedFri
    {
        get => _monWedFri;
        set
        {
            _monWedFri = value;

            ToastService.ShowToast(heading: "Mon, Wed, Fri selectable", message: $"Value: {_monWedFri.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }


    private DateTime _englandBusinessDay = new DateTime(2021, 4, 6);
    private DateTime EnglandBusinessDay
    {
        get => _englandBusinessDay;
        set
        {
            _englandBusinessDay = value;

            ToastService.ShowToast(heading: "England Business Day selectable", message: $"Value: {_englandBusinessDay.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }


    private DateTime _customStyle = new DateTime(2021, 1, 8);
    private DateTime CustomStyle
    {
        get => _customStyle;
        set
        {
            _customStyle = value;

            ToastService.ShowToast(heading: "Custom Style", message: $"Value: {_customStyle.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }

    private DateTime _default = DateTime.Today;
    private DateTime Default
    {
        get => _default;
        set
        {
            _default = value;

            ToastService.ShowToast(heading: "Default", message: $"Value: {_default.ToLongDateString()}", level: MBToastLevel.Success, showIcon: false);
        }
    }


    private DateTime Min { get; set; } = new DateTime(1900, 1, 1);
    private DateTime Max { get; set; } = new DateTime(2100, 12, 31);
}