<Project Sdk="Microsoft.NET.Sdk.Razor">

	<PropertyGroup>
		<TargetFramework>netstandard2.1</TargetFramework>
		<RazorLangVersion>3.0</RazorLangVersion>
		<Configurations>Debug_WebAssembly;Debug_Server;Release_WebAssembly;Release_Server</Configurations>
		<GeneratePackageOnBuild>false</GeneratePackageOnBuild>
		<VersionPrefix>1.0.0</VersionPrefix>
		<VersionSuffix></VersionSuffix>
		<PackageLicenseFile></PackageLicenseFile>
		<Authors>Simon Ziegler of Dioptra and Mark Stega of Optimium Health</Authors>
		<Company>Blazor MDC</Company>
		<Description>A lightweight Material Theme component library for Blazor. Intended to adhere rigorously to Material Theme guidelines in https://material.io. API and other documentation can be found at https://docs.blazormdc.com.</Description>
		<RepositoryUrl>https://github.com/BlazorMdc/BlazorMdc</RepositoryUrl>
		<PackageLicenseExpression>MIT</PackageLicenseExpression>
		<PackageReleaseNotes>This is the first version 1 pre-release. The Blazor MDC API is now stable and will not suffer breaking changes until a future version 2.</PackageReleaseNotes>
		<NeutralLanguage>en</NeutralLanguage>
		<Copyright>Dioptra and Optimium Health</Copyright>
		<PackageProjectUrl>https://blazormdc.com</PackageProjectUrl>
		<Product>Blazor MDC</Product>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_WebAssembly|AnyCPU'">
		<DefineConstants>BlazorWebAssembly;DEBUG;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_Server|AnyCPU'">
		<DefineConstants>BlazorServer;DEBUG;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_WebAssembly|AnyCPU'">
		<DefineConstants>BlazorWebAssembly;RELEASE;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_Server|AnyCPU'">
		<DefineConstants>BlazorServer;RELEASE</DefineConstants>
	</PropertyGroup>

	<ItemGroup>
		<Content Remove="bundleconfig.json" />
	</ItemGroup>

	<ItemGroup>
	  <None Remove="Components\Card\MTCard.razor.md" />
	  <None Remove="Components\List\MTList.razor.md" />
	  <None Remove="Components\Menu\MTMenu.razor.md" />
	  <None Remove="Components\NumericDoubleField\MTNumericDoubleField.razor.md" />
	  <None Remove="Components\NumericIntField\MTNumericIntField.razor.md" />
	  <None Remove="Components\PagedDataList\MTPagedDataList.razor.md" />
	  <None Remove="Components\Paginator\MTPaginator.razor.md" />
	  <None Remove="Components\RadioButtonGroup\MTRadioButtonGroup.razor.md" />
	  <None Remove="Components\RadioButton\MTRadioButton.razor.md" />
	  <None Remove="Components\Select\MTSelect.razor.md" />
	  <None Remove="Components\Shield\MTShield.razor.md" />
	  <None Remove="Components\SlidingTabBar\MTSlidingTabBar.razor.md" />
	  <None Remove="Components\Switch\MTSwitch.razor.md" />
	  <None Remove="Components\TabBar\MTTabBar.razor.md" />
	  <None Remove="Components\TextArea\MTTextArea.razor.md" />
	  <None Remove="Components\TextField\MTTextField.razor.md" />
	  <None Remove="Components\Toast\MTToastAnchor.razor.md" />
	  <None Remove="Components\TopAppBar\MTTopAppBar.razor.md" />
	  <None Remove="Model\Icon\MTIconHelper.cs.md" />
	  <None Remove="Model\MTCascadingDefaults.cs.md" />
	</ItemGroup>

	<ItemGroup>
	  <Content Include="Components\Card\MTCard.razor.md" />
	  <Content Include="Components\List\MTList.razor.md" />
	  <Content Include="Components\Menu\MTMenu.razor.md" />
	  <Content Include="Components\NumericDoubleField\MTNumericDoubleField.razor.md" />
	  <Content Include="Components\NumericIntField\MTNumericIntField.razor.md" />
	  <Content Include="Components\PagedDataList\MTPagedDataList.razor.md" />
	  <Content Include="Components\Paginator\MTPaginator.razor.md" />
	  <Content Include="Components\RadioButtonGroup\MTRadioButtonGroup.razor.md" />
	  <Content Include="Components\RadioButton\MTRadioButton.razor.md" />
	  <Content Include="Components\Select\MTSelect.razor.md" />
	  <Content Include="Components\Shield\MTShield.razor.md" />
	  <Content Include="Components\SlidingTabBar\MTSlidingTabBar.razor.md" />
	  <Content Include="Components\Switch\MTSwitch.razor.md" />
	  <Content Include="Components\TabBar\MTTabBar.razor.md" />
	  <Content Include="Components\TextArea\MTTextArea.razor.md" />
	  <Content Include="Components\TextField\MTTextField.razor.md" />
	  <Content Include="Components\Toast\MTToastAnchor.razor.md" />
	  <Content Include="Components\TopAppBar\MTTopAppBar.razor.md" />
	  <Content Include="Model\Icon\MTIconHelper.cs.md" />
	  <Content Include="Model\MTCascadingDefaults.cs.md" />
	</ItemGroup>


	<ItemGroup>
		<PackageReference Include="BuildBundlerMinifier" Version="3.2.447" />
		<PackageReference Include="Microsoft.AspNetCore.Components" Version="3.1.5" />
		<PackageReference Include="Microsoft.AspNetCore.Components.Web" Version="3.1.5" />
	</ItemGroup>


	<ItemGroup>
		<None Include="bundleconfig.json" />
	</ItemGroup>


	<ItemGroup>
	  <Folder Include="wwwroot\Material-Components-Web\dist\" />
	</ItemGroup>

	<Target Name="RestoreDotnetTools" BeforeTargets="PreBuildEvent">
		<Exec Command="dotnet tool restore" />
	</Target>

	
	<Target Name="CompileCss" AfterTargets="RestoreDotnetTools" BeforeTargets="PreBuildEvent">
		<Exec Command="dotnet tool run webcompiler Styles/blazormdc.scss -m disable -o .\wwwroot -p disable -z disable" />
	</Target>

	<Target Name="CompileMinifiedCss" AfterTargets="CompileCss" BeforeTargets="PreBuildEvent">
		<Exec Command="dotnet tool run webcompiler Styles/blazormdc.scss -m enable -o .\wwwroot -p disable -z disable" />
	</Target>


	<Target Name="CompileJs" AfterTargets="CompileMinifiedCss" BeforeTargets="PreBuildEvent">
		<Exec Command="dotnet tool run webcompiler Scripts/blazormdc.js -m enable -o .\wwwroot -p disable -z disable" />
	</Target>

	<ItemGroup>
		<JsSourceFiles Include=".\scripts\*.js" />
	</ItemGroup>

  <Target Name="CopyJs" AfterTargets="CompileJs" BeforeTargets="PreBuildEvent">
    <Copy SourceFiles="@(JsSourceFiles)" DestinationFolder="wwwroot" />
  </Target>

  <ItemGroup>
    <BundleFiles Include=".\wwwroot\blazormdc-bundled.*" />
  </ItemGroup>

  <Target Name="DeleteBundles" AfterTargets="CopyJs" BeforeTargets="PreBuildEvent">
    <Delete Files="@(BundleFiles)" />
  </Target>

</Project>
