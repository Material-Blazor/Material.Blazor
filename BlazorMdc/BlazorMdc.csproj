<Project Sdk="Microsoft.NET.Sdk.Razor">

	<PropertyGroup>
		<TargetFramework>netstandard2.1</TargetFramework>
		<RazorLangVersion>3.0</RazorLangVersion>
		<Configurations>Debug_WebAssembly;Debug_Server;Release_WebAssembly;Release_Server</Configurations>
		<GeneratePackageOnBuild>true</GeneratePackageOnBuild>
		<VersionPrefix>0.32.0</VersionPrefix>
		<VersionSuffix></VersionSuffix>
		<PackageLicenseFile>LICENSE.md</PackageLicenseFile>
		<Authors />
		<Company>Dioptra</Company>
		<Description>A lightweight Material Theme component library for Blazor. Intended to adhere rigorously to Material Theme guidelines in https://material.io. This should be one of the last pre-release versions containing significant API changes as we approach full release of version 1.0.0 in the coming weeks.</Description>
		<RepositoryUrl>https://github.com/BlazorMdc/BlazorMdc</RepositoryUrl>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_WebAssembly|AnyCPU'">
		<DefineConstants>BlazorWebAssembly;DEBUG;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Debug_Server|AnyCPU'">
		<DefineConstants>BlazorServer;DEBUG;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_WebAssembly|AnyCPU'">
		<DefineConstants>BlazorWebAssembly;RELEASE;</DefineConstants>
	</PropertyGroup>

	<PropertyGroup Condition="'$(Configuration)|$(Platform)'=='Release_Server|AnyCPU'">
		<DefineConstants>BlazorServer;RELEASE</DefineConstants>
	</PropertyGroup>

	<ItemGroup>
		<Content Remove="bundleconfig.json" />
	</ItemGroup>


	<ItemGroup>
		<PackageReference Include="BuildBundlerMinifier" Version="3.2.447" />
		<PackageReference Include="Microsoft.AspNetCore.Components" Version="3.1.5" />
		<PackageReference Include="Microsoft.AspNetCore.Components.Web" Version="3.1.5" />
	</ItemGroup>


	<ItemGroup>
		<None Include="..\LICENSE.md">
			<Pack>True</Pack>
			<PackagePath></PackagePath>
		</None>
		<None Include="bundleconfig.json" />
	</ItemGroup>


	<ItemGroup>
	  <Folder Include="wwwroot\Material-Components-Web\dist\" />
	</ItemGroup>

	<Target Name="RestoreDotnetTools" BeforeTargets="BeforeBuild">
		<Exec Command="dotnet tool restore" />
	</Target>

	<Target Name="CompileCss" BeforeTargets="RestoreDotnetTools">
		<Exec Command="dotnet tool run webcompiler Styles/BlazorMdc.scss -z disable" />
	</Target>

	<Target Name="PreBuild" BeforeTargets="PreBuildEvent">
		<Exec Command="dotnet tool restore&#xD;&#xA;dotnet tool run webcompiler Styles/BlazorMdc.scss -z disable&#xD;&#xA;dotnet tool run webcompiler Scripts/BlazorMdc.js -z disable&#xD;&#xA;xcopy .\styles\*.css wwwroot&#xD;&#xA;del .\styles\*.css&#xD;&#xA;xcopy .\scripts\*.js wwwroot&#xD;&#xA;del .\scripts\*.min.js" />
	</Target>

</Project>
