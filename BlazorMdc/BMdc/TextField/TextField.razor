@namespace BMdc
@inherits BMdcBase.InputComponentBase<string>


<div @ref="TextFieldReference"
     @attributes="@AttributesToSplat(BMdcBase.SplatType.ClassAndStyleOnly)">

    @if (AppliedTextInputStyle == BMdcModel.TextInputStyle.Filled || AppliedTextInputStyle == BMdcModel.TextInputStyle.FullWidth)
    {
        <span class="mdc-text-field__ripple"></span>
    }

    @if (!string.IsNullOrWhiteSpace(LeadingIcon))
    {
        <BMdcPlus.Icon IconName="@LeadingIcon" IconFoundry="@IconFoundry" Class="mdc-text-field__icon mdc-text-field__icon--leading" tabindex="-1" role="button" />
    }

    <input @ref="@InputReference"
           id="@Id"
           class="mdc-text-field__input @Utilities.GetTextAlignClass(CascadingDefaults.AppliedStyle(TextAlignStyle)) @FieldClass"
           @bind="@ReportingValue"
           @attributes="@AttributesToSplat(BMdcBase.SplatType.ExcludeClassAndStyle)">

    @if (!string.IsNullOrWhiteSpace(TrailingIcon))
    {
        <BMdcPlus.Icon IconName="@TrailingIcon" IconFoundry="@IconFoundry" Class="mdc-text-field__icon mdc-text-field__icon--trailing" tabindex="-1" role="button" />
    }

    @if (AppliedTextInputStyle == BMdcModel.TextInputStyle.Outlined)
    {
        <span class="mdc-notched-outline">
            <span class="mdc-notched-outline__leading"></span>

            @if (!NoLabel)
            {
                <span class="mdc-notched-outline__notch">
                    <span class="mdc-floating-label @FloatingLabelClass" for="@Id" id="@labelId">@Label</span>
                </span>
            }

            <span class="mdc-notched-outline__trailing"></span>
        </span>
    }
    else
    {
        @if (AppliedTextInputStyle == BMdcModel.TextInputStyle.Filled && ! NoLabel)
        {
            <span class="mdc-floating-label @FloatingLabelClass" for="@Id" id="@labelId">@Label</span>
        }

        <span class="mdc-line-ripple"></span>
    }
</div>